<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GPS Tracker - Calculador</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<!-- CSS -->
<link rel="stylesheet" href="css/style.css">

<!-- Javascript -->
<script src="js/jquery.js"></script>

</head>
<body>
<div id="contenedor">
    <div id="logo"><img src="img/logo_tracker_l.png" alt="GPS Tracker" title="GPS Tracker"></div>
    <div id="formulario1" style="" >
        <div id="contenido">
            <p class="titulo">MATRIZ DE RETORNO DE INVERSION</p>
            <form id="formulario">
                <div class="control-group">
                    <label for="campo">Número de Vehículos</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="can_veh" id="can_veh" tabindex="1">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">Número de Operadores</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="can_ope" id="can_ope" tabindex="2">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">Monto Costo Promedio</label>
                    <div class="control">
                        <input type="number" min="1" class="medium" value="" name="cos_pro" id="cos_pro" tabindex="3">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">% Prima Seguro</label>
                    <div class="control">
                        <input type="number" min="1" class="medium" value="" name="pri_seg" id="pri_seg" tabindex="4">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">Gastos Prom. Mantenimiento Mensual Veh.</label>
                    <div class="control">
                        <input type="number" min="1" class="medium" value="" name="gas_man" id="gas_man" tabindex="5">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">Gastos Prom. Combustible Mensual Veh.</label>
                    <div class="control">
                        <input type="number" min="1" class="medium" value="" name="gas_gas" id="gas_gas" tabindex="6">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">Salario Prom. Mensual por Conductor</label>
                    <div class="control">
                        <input type="number" min="1" class="medium" value="" name="sal_con" id="sal_con" tabindex="7">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">Gastos Prom. Mensual Sobretiempo Conductor</label>
                    <div class="control">
                        <input type="number" min="1" class="medium" value="" name="gas_sob" id="gas_sob" tabindex="8">
                    </div>
                </div>

                 <div class="control-group">
                    <label for="campo">Gastos Prom. Comunicaciones (Celular, Radio, etc)</label>
                    <div class="control">
                        <input type="number" min="1" class="medium" value="" name="gas_com" id="gas_com" tabindex="9">
                    </div>
                </div>

                <!-- *************   SEPARADOR ****************** -->
                <div class="separador"></div>

                <div class="control-group">
                    <label for="campo">Número de equipos GPS adquiridos:</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="equ_gps" id="equ_gps" tabindex="10">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">Monto equipo Instalado (Bs.):</label>
                    <div class="control">
                        <input type="number" min="1" class="medium" value="" name="equ_ins" id="equ_ins" tabindex="11">
                        <input type="number" class="medium" value="" readonly="readonly" name="tot_equ_ins" id="tot_equ_ins">
                    </div>
                </div>

                <div class="control-group">
                    <label for="campo">Monto Anualidad del Servicio (Bs.):</label>
                    <div class="control">
                        <input type="number" class="medium" value="" name="anu_ser" id="anu_ser" tabindex="12">
                        <input type="number" class="medium" value="" readonly="readonly" name="tot_anu_ser" id="tot_anu_ser">
                    </div>
                </div>
                <h4>Porcentajes de Reducción:</h4>
                <div class="control-group2">
                    <label for="campo"><b>Reducción Gastos Seguro para Vehículo(%)</b><br>Para un Vehículo de Bs.<br>Tasa de Prima Anual</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="red_gas_seg" id="red_gas_seg" tabindex="13">
                    </div>
                </div>
                                        
                <div class="control-group2">
                    <label for="campo"><b>Reducción Gastos Mantenimiento y Reparaciones(%)</b><br>Gastos Regulares Bs. X Mes X Vehículo</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="red_gas_man" id="red_gas_man" tabindex="14">
                    </div>
                </div>

                <div class="control-group2">
                    <label for="campo"><b>Reducción Consumo Combustible(%)</b><br>Consumo Combustible Bs. X mes X vehículo</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="red_gas_gas" id="red_gas_gas" tabindex="15">
                    </div>
                </div>

                <div class="control-group2">
                    <label for="campo"><b>Reducción Gastos Nómina Choferes(%)</b><br>Salario mínimo/Conductor/mes</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="red_gas_con" id="red_gas_con" tabindex="16">
                    </div>
                </div>

                <div class="control-group2">
                    <label for="campo"><b>Reducción Gastos Horas Extras/Viaticos Choferes(%)</b><br>Sobretiempo/Conductor/mes Bs./mes</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="red_gas_sob" id="red_gas_sob" tabindex="17">
                    </div>
                </div>

                <div class="control-group2">
                    <label for="campo"><b>Reducción Gastos Comunicaciones (Teléfonos)(%)</b><br>Consumo promedio mensual x Conductor Bs./mes</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="red_gas_com" id="red_gas_com" tabindex="18">
                    </div>
                </div>

                <div class="control-group2">
                    <label for="campo"><b>Otras Fuentes Ahorro</b><br>Gastos promedio mensual x Vehículo Bs./mes</label>
                    <div class="control">
                        <input type="number" min="1" class="small" value="" name="otr_fue_aho" id="otr_fue_aho" tabindex="19">
                    </div>
                </div>

            </form>

        </div>
        <a href="#" id="calcular" onclick="javascript:calculoFinal();">
        <div id="botones">
            <span class="boton">CALCULAR</span>
        </div>
        </a>
    </div>
    <div id="formulario2" style="display:none;">
        <div id="contenido">
            <p class="titulo">MATRIZ DE RETORNO DE INVERSION</p>
            <table id="resultados" width="100%" border="0">
                <tr height="35px">
                    <td width="60%"></td>
                    <td align="center" style="font-weight:bold;">Ahorro por Vehiculo<br>Mensual</td>
                    <td align="center" style="font-weight:bold;">Ahorro por Flotilla<br>Mensual</td>
                </tr>
                <tr height="35px">
                    <td >Reducción en gastos de Seguro para el Vehículo</td>
                    <td><input id="redGastoSeguro_V" type="text" value="" readonly="readonly"></td>
                    <td><input id="redGastoSeguro_F" type="text" value="" readonly="readonly"></td>
                </tr>
                <tr height="35px">
                    <td>Reducción en gastos de Mantenimiento y Reparaciones </td>
                    <td><input id="redGastoMantenimiento_V" type="text" value="" readonly="readonly"></td>
                    <td><input id="redGastoMantenimiento_F" type="text" value="" readonly="readonly"></td>
                </tr>
                <tr height="35px"> 
                    <td>Reducción en consumo de Combustible</td>
                    <td><input id="redGastoCombustible_V" type="text" value="" readonly="readonly"></td>
                    <td><input id="redGastoCombustible_F" type="text" value="" readonly="readonly"></td>
                </tr>
                <tr height="35px">
                    <td>Reducción en gastos de Nómina Choferes</td>
                    <td><input id="redGastoNomina_V" type="text" value="" readonly="readonly"></td>
                    <td><input id="redGastoNomina_F" type="text" value="" readonly="readonly"></td>
                </tr>
                <tr height="35px">
                    <td>Reducción en gastos de Horas Extras/ Viaticos Choferes</td>
                    <td><input id="redGastoSobre_V" type="text" value="" readonly="readonly"></td>
                    <td><input id="redGastoSobre_F" type="text" value="" readonly="readonly"></td>
                </tr>
                <tr height="35px">
                    <td>Reducción en gastos de Comunicaciones (Teléfonos)</td>
                    <td><input id="redGastoComunicacion_V" type="text" value="" readonly="readonly"></td>
                    <td><input id="redGastoComunicacion_F" type="text" value="" readonly="readonly"></td>
                </tr>
                <tr height="35px">
                    <td>Otras Fuentes de Ahorro</td>
                    <td><input id="redGastoOtros_V" type="text" value="" readonly="readonly"></td>
                    <td><input id="redGastoOtros_F" type="text" value="" readonly="readonly"></td>
                </tr> 
                <tr height="35px">
                    <td align="right"><b>Total:</b></td>
                    <td><input id="redTotal_V" type="text" value="" readonly="readonly"></td>
                    <td><input id="redTotal_F" type="text" value="" readonly="readonly"></td>
                </tr> 
            </table>
        </div>
        <a href="#" onclick="javascript:regresar();">
        <div id="botones">
            <span class="boton">REGRESAR</span>
        </div>
        </a>
    </div>
</div>

</body>
<script type="text/javascript">
    function calcularMonto1(){

        var cantVehiculo = $("#can_veh").val();
        var montoEquipo = $("#equ_ins").val();

        if (cantVehiculo > 0 && montoEquipo > 0) {
            $("#tot_equ_ins").val(parseInt(cantVehiculo)*parseInt(montoEquipo));

        };
    }

    function calcularMonto2(){

        var cantVehiculo = $("#can_veh").val();
        var montoServicio = $("#anu_ser").val();

        if (cantVehiculo > 0 && montoServicio > 0) {
            $("#tot_anu_ser").val(parseInt(cantVehiculo)*parseInt(montoServicio));

        };
    }

    function calculoFinal(){

        var cantVehiculo = parseInt($("#can_veh").val());
        var cantOperador = parseInt($("#can_ope").val());

        //Seguro
        var costoPromedio = parseInt($("#cos_pro").val());
        var primaSeguro = parseInt($("#pri_seg").val());
        var redGastoSeguro = parseInt($("#red_gas_seg").val());

        var redGastoSeguro_V = ((costoPromedio*primaSeguro)*(redGastoSeguro/100))/12;
        $("#redGastoSeguro_V").val(redGastoSeguro_V);
        var redGastoSeguro_F = redGastoSeguro_V*cantVehiculo;
        $("#redGastoSeguro_F").val(redGastoSeguro_F);
        
        //Mantenimiento
        var gastoMantenimiento = parseInt($("#gas_man").val());
        var redGastoMantenimiento = parseInt($("#red_gas_man").val());

        
        var redGastoMantenimiento_V = gastoMantenimiento*(redGastoMantenimiento/100);
          alert(redGastoMantenimiento_V);
        $("redGastoMantenimiento_V").val(redGastoMantenimiento_V);
        var redGastoMantenimiento_F = redGastoMantenimiento_V*cantVehiculo;
        $("redGastoMantenimiento_F").val(redGastoMantenimiento_F);

        //Gasto Combustible
        var gastoCombustible = parseInt($("#gas_gas").val());
        var redGastoCombustible = parseInt($("#red_gas_gas").val());
        
        var redGastoCombustible_V = gastoCombustible*(redGastoCombustible/100);
        $("redGastoCombustible_V").val(redGastoCombustible_V);
        var redGastoCombustible_F = redGastoCombustible_V*cantVehiculo;
        $("redGastoCombustible_F").val(redGastoCombustible_F);

        //Gasto Salario
        var gastoSalario = parseInt($("#sal_con").val());
        var redGastoSalario = parseInt($("#red_gas_con").val());
        
        var redGastoSalario_V = gastoSalario*(redGastoSalario/100);
        $("redGastoNomina_V").val(redGastoSalario_V);
        var redGastoNomina_F = redGastoSalario_V*cantOperador;
        $("redGastoNomina_F").val(redGastoNomina_F);
        
        //Gasto Extras
        var gastoSobre = parseInt($("#gas_sob").val());
        var redGastoSobre = parseInt($("#red_gas_sob").val());
        
        var redGastoSobre_V = gastoSobre*(redGastoSobre/100);
        $("redGastoSobre_V").val(redGastoSobre_V);
        var redGastoSobre_F = redGastoSobre_V*cantOperador;
        $("redGastoSobre_F").val(redGastoSobre_F);

        //Gasto Comunicacion
        var gastoComunicacion = parseInt($("#gas_com").val());
        var redGastoComunicacion = parseInt($("#red_gas_com").val());
        
        var redGastoComunicacion_V = gastoComunicacion*(redGastoComunicacion/100);
        $("redGastoComunicacion_V").val(redGastoComunicacion_V);
        var redGastoComunicacion_F = redGastoComunicacion_V*cantVehiculo
        $("redGastoComunicacion_F").val(redGastoComunicacion_F);

        //Totales
        $("redTotal_V").val(redGastoSeguro_V+redGastoMantenimiento_V+redGastoCombustible_V+redGastoSalario_V+redGastoSobre_V+redGastoComunicacion_V);
        $("redTotal_F").val(redGastoSeguro_F+redGastoMantenimiento_F+redGastoCombustible_F+redGastoNomina_F+redGastoSobre_F+redGastoComunicacion_F);
        
        $("#formulario2").show();
        $("#formulario1").hide();

    }

    function regresar(){
        $("#formulario2").hide();
        $("#formulario1").show();
    }

    $(document).ready(function(){
        $("#equ_ins").change(function(){calcularMonto1();});
        $("#anu_ser").change(function(){calcularMonto2();});
        
       
    });
</script>
</html>